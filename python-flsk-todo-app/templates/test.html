<!DOCTYPE html>
<html lang="en">
    <script src="https://code.jquery.com/jquery-1.12.4.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advconfig.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advpane.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advajax.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advgrid.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advdecl.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advbtn.js') }}"></script>
             <script type="text/javascript"
         src="{{ url_for('static', filename='js/commons/adv/advgeneral.js') }}"></script>
    <script type="text/javascript">
     function clickMe() {
         
    	var root = $(document);
    	var zoneMap = {};
    	$.each(root.find("input"), function(key, field) {
    		var jfield = $(field);
    		var name = jfield.attr("name");
            zoneMap[name] = jfield;
    	});
    	
		
     }
     
      $(document).ready(function() {
        var table = null;
        $('a#calculate').bind('click', function() {
          $.getJSON('/_get_mstable', {
            a: $('input[name="a"]').val(),
            b: $('input[name="b"]').val()
          }, function(data) {
            $("#elements").text(data.number_elements);
            if (table !== null) {
              table.destroy();
              table = null;
              $("#a_nice_table").empty();
            }
            table = $("#a_nice_table").DataTable({
              data: data.my_table,
              columns: data.columns
            });
          });
          return false;
        });
      });
 
    </script>
  <head>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h3 class="text-muted">Create a pretty table</h3>
      </div>

      <div>
            <tr>
              	<td class="queryLabel">
    				進出口轉別&nbsp;:&nbsp;
                    <s:select name="indicatorType" list=" #{ 'I':'I 進口', 'T':'T 轉運', 'L':'L 物流' }" cssStyle="width: 80px;" />
    				<div class="acod">desc:進出口轉別 chk(query,mrgexam,senddecl,sendman):string(1..1) tr:upper to:query;mrgexam;senddecl;sendman;send mod:mrgexam;senddecl;sendman bi:keep</div>
                </td>
            </tr>
         <button type="button" onclick="clickMe();">Click Me!</button>
        <p>Number of rows</p>
        <input type="text" size="5" name="a" value="2">
        <p>Number of columns</p>
        <input type="text" size="5" name="b" value="4">
        
        <p><a href="javascript:void();" id="calculate">get a pretty table</a></p>
         <p>Result</p>
        <p>Number of elements:</p>
          <span id="elements">Hallo</span><br>
          <table id="a_nice_table">Here should be a table</table>
      </div>
    </div>

  </body>
  <script type="text/javascript">
    advConfigRegister();
	advPaneRegister();
	advAjaxRegister();
	advGridRegister();
	advBtnEnableHotkey();
  </script>
</html>